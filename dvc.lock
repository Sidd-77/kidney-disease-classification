schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/CNN_Classifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 755f4e97b6af844327bf2583955fa213
      size: 553
    - path: src/CNN_Classifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 588207cfc5a4da3efb08d8839c462dd4
      size: 857
    outs:
    - path: artifacts/data_ingestion/kidney-data
      hash: md5
      md5: 29d4b8fc20e111d5418eeda28e3fdd37.dir
      size: 171016859
      nfiles: 1201
  prepare_base_model:
    cmd: python src/CNN_Classifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 755f4e97b6af844327bf2583955fa213
      size: 553
    - path: src/CNN_Classifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: 5c105f488c697e0810e6cc23b12270e2
      size: 887
    params:
      params.yaml:
        CLASSES: 4
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.001
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 3e5729323d1a168c6e4c648a12c63f21.dir
      size: 118257246
      nfiles: 2
  training:
    cmd: python src/CNN_Classifier/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_ingestion/kidney-data
      hash: md5
      md5: 29d4b8fc20e111d5418eeda28e3fdd37.dir
      size: 171016859
      nfiles: 1201
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 3e5729323d1a168c6e4c648a12c63f21.dir
      size: 118257246
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 755f4e97b6af844327bf2583955fa213
      size: 553
    - path: src/CNN_Classifier/pipeline/stage_03_model_training.py
      hash: md5
      md5: dcdf50a47c7a7547985dcb021b94a415
      size: 811
    params:
      params.yaml:
        AUGMENTATION: false
        BATCH_SIZE: 32
        EPOCHS: 5
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.keras
      hash: md5
      md5: 65635caaaa207dd7b4362376f1a64cbd
      size: 59334016
  evaluation:
    cmd: python src/CNN_Classifier/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/kidney-data
      hash: md5
      md5: 29d4b8fc20e111d5418eeda28e3fdd37.dir
      size: 171016859
      nfiles: 1201
    - path: artifacts/training/model.keras
      hash: md5
      md5: 65635caaaa207dd7b4362376f1a64cbd
      size: 59334016
    - path: config/config.yaml
      hash: md5
      md5: 755f4e97b6af844327bf2583955fa213
      size: 553
    - path: src/CNN_Classifier/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 232743d53410b3ec764af6755d3b327b
      size: 1048
    params:
      params.yaml:
        BATCH_SIZE: 32
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: bcf77bf461ee1214d667dd6a27d1509c
      size: 56
